<html>
<head>
    <meta charset="utf-8">

    <script type="text/javascript" src="assets/js/utils/debug/reload.js"></script>

    <script language="javascript" data-main="assets/js/main.js" src="assets/js/components/requirejs/require.js"
            type="text/javascript"></script>

</head>

<body>

<div id="messages-container">
    <span data-bind="text: message, visible: show"></span>
</div>

<div id="capture-container" kb-inject="App.vm.Capture">
    <form data-bind="submit: create">
        <label for="capture-input">Capture</label>
        <input id="capture-input" type="text" data-bind="
            value: content,
            valueUpdate: 'keyup'"
                />
    </form>
</div>

<div id="tags-container" kb-inject="App.vm.TagsList">
    <div data-bind="foreach: {data: tags, as: 'tag'}">
        <div>
            <span data-bind="text: content"></span>
            (<span data-bind="text: $data.getTasks().length"></span>)
        </div>
    </div>
</div>


<div id="list-container" kb-inject="App.vm.List" data-bind="visible: hasTasks" style="display: none;">
    <div data-bind="foreach: tasks">
        <div>
            <form data-bind="submit: save">
                <input type="text" data-bind="
                    value: content,
                    valueUpdate: 'keyup'"
                        />
            </form>
        </div>
            <div>
                <span data-bind="text: content"></span> --- <span data-bind="text: $data.model().get('taskstags').length"></span>
            </div>
        </div>
    </div>
</div>
</body>
</html>